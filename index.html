<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokémon Map</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="resources/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="resources/favicon.ico" type="image/x-icon">
    <!-- Dodany skrypt internacjonalizacji -->
    <script src="i18n.js"></script>
    <script src="loading-overlay.js"></script>
</head>
<body>
    <div class="sidebar">
        <!-- 1. Profil na górze (dynamicznie wstawiany przez profile-manager.js) -->
        <div class="profile-container">
            <h3 data-i18n="profile.title">Profil</h3>
            <div class="profile-selector-container">
                <select id="profile-selector" class="filter-select"></select>
            </div>
            <div class="profile-actions-container">
                <button id="new-profile-btn" class="control-btn" data-i18n="profile.new">Nowy</button>
                <button id="rename-profile-btn" class="control-btn" data-i18n="profile.rename">Zmień nazwę</button>
                <button id="delete-profile-btn" class="control-btn" data-i18n="profile.delete">Usuń</button>
            </div>
        </div>
        
        <!-- 2. Wyszukiwanie lokalizacji -->
        <!-- <div class="search-container">
            <h3 data-i18n="search.locationTitle">Wyszukaj lokalizację</h3>
            <input type="text" id="location-search" class="search-input" data-i18n-placeholder="search.locationPlaceholder" placeholder="Wpisz nazwę lokalizacji...">
            <div id="search-results" class="search-results"></div>
        </div>
         -->
        <!-- 3. Filtrowanie Bossów według regionu -->
        <div class="filter-container">
            <h3 data-i18n="filter.regionFilter">Filter Bosses by Region</h3>
            <select id="region-filter" class="filter-select">
                <option value="" disabled selected data-i18n="filter.selectRegion">Wybierz region</option>
                <!-- The rest of the region options will be added dynamically by JavaScript -->
            </select>
        </div>
        
        <!-- 4. Przycisk tras -->
        <div class="route-creator-button-container">
            <button id="route-creator-btn" class="control-btn primary" data-i18n="buttons.routes">Trasy</button>
        </div>
        
        <!-- 5. Wyszukiwarka Pokemonów -->
        <div class="search-container pokemon-search-container">
            <h3 data-i18n="pokesearch.pokemonTitle">Wyszukaj Pokemona</h3>
            <input type="text" id="pokemon-search" class="search-input" data-i18n-placeholder="pokesearch.pokemonPlaceholder" placeholder="Wpisz nazwę Pokemona...">
            <div id="pokemon-search-results" class="search-results"></div>
        </div>
        <div class="repel-filter-container">
            <input type="checkbox" id="repel-filter-checkbox">
            <label for="repel-filter-checkbox" data-i18n="pokesearch.showOnlyRepel">Pokazuj tylko pokemony z repelem</label>
        </div>
        <div class="toggle-buttons-container">
            <div id="pokestop-toggle-btn" class="pokestop-toggle-btn">
                <img src="resources/pokestop.webp" alt="PokéStop Toggle" title="Pokaż/Ukryj PokéStopy" />
                <span data-i18n="pokestop.title">PokéStop</span>
            </div>
            <div id="boss-toggle-btn" class="boss-toggle-btn">
                <img src="resources/boss.webp" alt="Boss Toggle" title="Pokaż/Ukryj Bossy" />
                <span data-i18n="boss.toggle">Bossy</span>
            </div>
        </div>
        <!-- Reszta sidebara bez zmian -->
        
        <!-- Route creator sidebar (hidden by default) -->
        <div id="route-creator-sidebar" style="display: none;">
            <div class="route-creator-header">
                <button id="return-to-main-btn" class="control-btn" data-i18n="buttons.return">Powrót</button>
                <div class="route-action-buttons">
                    <button id="save-route-json-btn" class="control-btn" data-i18n="buttons.save">Zapisz</button>
                    <button id="load-route-json-btn" class="control-btn" data-i18n="buttons.load">Wczytaj</button>
                </div>
            </div>
            
            <div class="route-selector">
                <select id="route-select" class="filter-select">
                    <option value="" disabled selected data-i18n="route.selectRoute">Wybierz trasę</option>
                    <!-- Routes will be added dynamically -->
                </select>
                <button id="new-route-btn" class="control-btn">+</button>
            </div>
            
            <div id="route-boss-list-container"></div>
            
            <div id="route-creator-container" style="display: none;">
                <div class="route-search-container">
                    <input type="text" id="boss-search" class="search-input" data-i18n-placeholder="search.bossPlaceholder" placeholder="Wyszukaj bossa...">
                    <div id="boss-search-results" class="search-results"></div>
                </div>
                
                <div id="selected-bosses-container">
                    <!-- Selected bosses will be displayed here -->
                </div>
                
                <button id="save-route-btn" class="control-btn primary" data-i18n="route.saveRoute">Zapisz trasę</button>
            </div>
        </div>
    </div>
    
    <div id="map-container">
        <div id="map">
            <img id="map-image" src="resources/map.webp" alt="Mapa Pokémon">
        </div>
        <div class="map-controls">
            <button class="control-btn" id="zoom-in" data-i18n="buttons.zoomIn">+</button>
            <button class="control-btn" id="zoom-out" data-i18n="buttons.zoomOut">-</button>
            <button class="control-btn" id="reset" data-i18n="buttons.reset">Reset</button>
        </div>
    </div>
    
    <div class="tooltip" id="tooltip"></div>
    
    <script src="profile-manager.js"></script>
    <script src="script.js"></script>
    <script src="pokemon-search.js"></script>
    <script src="sidebar-toggle.js"></script>
    <script src="pokestops.js"></script>
    <script src="boss-toggle.js"></script>
</body>
</html>